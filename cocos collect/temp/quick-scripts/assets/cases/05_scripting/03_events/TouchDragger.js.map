{"version":3,"sources":["TouchDragger.js"],"names":["TouchDragger","cc","Class","extends","Component","properties","propagate","default","onLoad","node","opacity","on","Node","EventType","TOUCH_START","log","TOUCH_MOVE","event","delta","touch","getDelta","x","y","getComponent","stopPropagation","TOUCH_END"],"mappings":";;;;;;AAAA,IAAIA,eAAeC,GAAGC,KAAH,CAAS;AACxBC,aAASF,GAAGG,SADY;;AAGxBC,gBAAY;AACRC,mBAAW;AACPC,qBAAS;AADF;AAGX;AAJQ,KAHY;;AAUxB;AACAC,YAAQ,kBAAY;AAChB,aAAKC,IAAL,CAAUC,OAAV,GAAoB,GAApB;AACA,aAAKD,IAAL,CAAUE,EAAV,CAAaV,GAAGW,IAAH,CAAQC,SAAR,CAAkBC,WAA/B,EAA4C,YAAY;AACpDb,eAAGc,GAAH,CAAO,iBAAP;AACA,iBAAKL,OAAL,GAAe,GAAf;AACH,SAHD,EAGG,KAAKD,IAHR;AAIA,aAAKA,IAAL,CAAUE,EAAV,CAAaV,GAAGW,IAAH,CAAQC,SAAR,CAAkBG,UAA/B,EAA2C,UAAUC,KAAV,EAAiB;AACxD,iBAAKP,OAAL,GAAe,GAAf;AACA,gBAAIQ,QAAQD,MAAME,KAAN,CAAYC,QAAZ,EAAZ;AACA,iBAAKC,CAAL,IAAUH,MAAMG,CAAhB;AACA,iBAAKC,CAAL,IAAUJ,MAAMI,CAAhB;AACA,gBAAI,KAAKC,YAAL,CAAkBvB,YAAlB,EAAgCM,SAApC,EACIW,MAAMO,eAAN;AACP,SAPD,EAOG,KAAKf,IAPR;AAQA,aAAKA,IAAL,CAAUE,EAAV,CAAaV,GAAGW,IAAH,CAAQC,SAAR,CAAkBY,SAA/B,EAA0C,YAAY;AAClD,iBAAKf,OAAL,GAAe,GAAf;AACH,SAFD,EAEG,KAAKD,IAFR;AAGH;AA5BuB,CAAT,CAAnB","file":"TouchDragger.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\cases\\05_scripting\\03_events","sourcesContent":["var TouchDragger = cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        propagate: {\n            default: false\n        },\n        // ...\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        this.node.opacity = 160;\n        this.node.on(cc.Node.EventType.TOUCH_START, function () {\n            cc.log('Drag stated ...');\n            this.opacity = 255;\n        }, this.node);\n        this.node.on(cc.Node.EventType.TOUCH_MOVE, function (event) {\n            this.opacity = 255;\n            var delta = event.touch.getDelta();\n            this.x += delta.x;\n            this.y += delta.y;\n            if (this.getComponent(TouchDragger).propagate)\n                event.stopPropagation();\n        }, this.node);\n        this.node.on(cc.Node.EventType.TOUCH_END, function () {\n            this.opacity = 160;\n        }, this.node);\n    },\n});"]}