{"version":3,"sources":["PopulatePrefab.js"],"names":["cc","Class","extends","Component","properties","root","default","type","Node","prefab","Prefab","canvas","Canvas","numberToSpawn","spawnInterval","addSpawn","spawnCount","clearRepeater","monster","instantiate","parent","position","getRandomPosition","onLoad","self","randomRange","v2","schedule","Math","random","x","y","unschedule"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,cAAM;AACFC,qBAAS,IADP;AAEFC,kBAAMP,GAAGQ;AAFP,SADE;AAKRC,gBAAQ;AACJH,qBAAS,IADL;AAEJC,kBAAMP,GAAGU;AAFL,SALA;AASRC,gBAAQ;AACJL,qBAAS,IADL;AAEJC,kBAAMP,GAAGY;AAFL,SATA;AAaRC,uBAAe,CAbP;AAcRC,uBAAe;AAdP,KAHP;;AAoBLC,cAAU,oBAAY;AAClB,YAAI,KAAKC,UAAL,IAAmB,KAAKH,aAA5B,EAA2C;AACvC,iBAAKI,aAAL;AACA;AACH;AACD,YAAIC,UAAUlB,GAAGmB,WAAH,CAAe,KAAKV,MAApB,CAAd;AACAS,gBAAQE,MAAR,GAAiB,KAAKf,IAAtB;AACA;AACAa,gBAAQG,QAAR,GAAmB,KAAKC,iBAAL,EAAnB;AACA,aAAKN,UAAL;AACH,KA9BI;;AAgCL;AACAO,YAAQ,kBAAY;AAChB,YAAIC,OAAO,IAAX;AACAA,aAAKC,WAAL,GAAmBzB,GAAG0B,EAAH,CAAM,GAAN,EAAW,GAAX,CAAnB;AACAF,aAAKR,UAAL,GAAkB,CAAlB;AACAQ,aAAKG,QAAL,CAAcH,KAAKT,QAAnB,EAA6BS,KAAKV,aAAlC;AACH,KAtCI;;AAwCLQ,uBAAmB,6BAAW;AAC1B,eAAOtB,GAAG0B,EAAH,CAAM,CAACE,KAAKC,MAAL,KAAgB,GAAjB,IAAwB,CAAxB,GAA4B,KAAKJ,WAAL,CAAiBK,CAAnD,EAAsD,CAACF,KAAKC,MAAL,KAAgB,GAAjB,IAAwB,CAAxB,GAA4B,KAAKJ,WAAL,CAAiBM,CAAnG,CAAP;AACH,KA1CI;;AA4CLd,mBAAe,yBAAW;AACtB,aAAKe,UAAL,CAAgB,KAAKjB,QAArB;AACH;AA9CI,CAAT","file":"PopulatePrefab.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\cases\\05_scripting\\02_prefab","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        root: {\n            default: null,\n            type: cc.Node\n        },\n        prefab: {\n            default: null,\n            type: cc.Prefab\n        },\n        canvas: {\n            default: null,\n            type: cc.Canvas\n        },\n        numberToSpawn: 0,\n        spawnInterval: 0\n    },\n    \n    addSpawn: function () {\n        if (this.spawnCount >= this.numberToSpawn) {\n            this.clearRepeater();\n            return;\n        }\n        var monster = cc.instantiate(this.prefab);\n        monster.parent = this.root;\n        //this.canvas.node.addChild(monster);\n        monster.position = this.getRandomPosition();\n        this.spawnCount++;\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        var self = this;\n        self.randomRange = cc.v2(300, 200);\n        self.spawnCount = 0;\n        self.schedule(self.addSpawn, self.spawnInterval);\n    },\n\n    getRandomPosition: function() {\n        return cc.v2((Math.random() - 0.5) * 2 * this.randomRange.x, (Math.random() - 0.5) * 2 * this.randomRange.y);\n    },\n\n    clearRepeater: function() {\n        this.unschedule(this.addSpawn);\n    },\n});\n"]}