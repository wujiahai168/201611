{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\cases\\02_ui\\14_pageView\\PageView/assets\\cases\\02_ui\\14_pageView\\PageView\\PageViewCtrl.js"],"names":["cc","Class","extends","Component","properties","curNum","curTotal","pageTeample","Prefab","target","PageView","label","Label","_createPage","page","instantiate","position","v2","color","Color","r","Math","floor","random","g","b","onLoad","setCurrentPageIndex","update","string","getCurrentPageIndex","onJumpHome","scrollToPage","plusPage","callback","lessPageNum","onAddPage","addPage","onInsertPage","insertPage","onRemovePage","pages","getPages","removePage","length","onRemovePageAtIndex","removePageAtIndex","onRemoveAllPage","removeAllPages","onPageEvent","sender","eventType","EventType","PAGE_TURNING","console","log"],"mappings":"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","file":"PageViewCtrl.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\cases\\02_ui\\14_pageView\\PageView","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        curNum: 3,\n        curTotal: 10,\n        pageTeample: cc.Prefab,\n        target: cc.PageView,\n        label: cc.Label\n    },\n\n    _createPage () {\n        var page = cc.instantiate(this.pageTeample);\n        page.position = new cc.v2(0, 0);\n        var color = new cc.Color();\n        color.r = Math.floor(Math.random() * 255);\n        color.g = Math.floor(Math.random() * 255);\n        color.b = Math.floor(Math.random() * 255);\n        page.color = color;\n        return page;\n    },\n\n    onLoad () {\n        // 设置的当前页面为 1\n        this.target.setCurrentPageIndex(0);\n    },\n\n    update () {\n        // 当前页面索引\n        this.label.string = \"第\" + (this.target.getCurrentPageIndex() + 1) + \"页\";\n    },\n\n    // 返回首页\n    onJumpHome () {\n        // 第二个参数为滚动所需时间，默认值为 0.3 秒\n        this.target.scrollToPage(0);\n    },\n\n    // 添加页面\n    plusPage (callback) {\n        if (this.curNum > this.curTotal) {\n            return;\n        }\n        this.curNum++;\n        if (callback) {\n            callback();\n        }\n    },\n\n    // 减少页面\n    lessPageNum (callback) {\n        if (this.curNum <= 0) {\n            return;\n        }\n        this.curNum--;\n        if (callback) {\n            callback();\n        }\n    },\n\n    // 添加页面\n    onAddPage () {\n        this.plusPage(() => {\n            this.target.addPage(this._createPage());\n        });\n    },\n\n    // 插入当前页面\n    onInsertPage () {\n        this.plusPage(() => {\n            this.target.insertPage(this._createPage(), this.target.getCurrentPageIndex());\n        });\n    },\n\n    // 移除最后一个页面\n    onRemovePage () {\n        this.lessPageNum(() => {\n            var pages = this.target.getPages();\n            this.target.removePage(pages[pages.length - 1]);\n        });\n    },\n\n    // 移除当前页面\n    onRemovePageAtIndex () {\n        this.lessPageNum(() => {\n            this.target.removePageAtIndex(this.target.getCurrentPageIndex());\n        });\n    },\n\n    // 移除所有页面\n    onRemoveAllPage () {\n        this.target.removeAllPages();\n        this.curNum = 0;\n    },\n\n    // 监听事件\n    onPageEvent (sender, eventType) {\n        // 翻页事件\n        if (eventType !== cc.PageView.EventType.PAGE_TURNING) {\n            return;\n        }\n        console.log(\"当前所在的页面索引:\" + sender.getCurrentPageIndex());\n    }\n});\n"]}